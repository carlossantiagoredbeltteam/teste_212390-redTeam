<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Fat16: Fat16 Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Fat16 Class Reference</h1><!-- doxytag: class="Fat16" --><!-- doxytag: inherits="Print" --><a class="el" href="class_fat16.html" title="Fat16 implements a minimal Arduino FAT16 Library.">Fat16</a> implements a minimal Arduino FAT16 Library.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;Fat16.h&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for Fat16:</div>
<div class="dynsection">
<p><center><img src="class_fat16__inherit__graph.png" border="0" usemap="#_fat16__inherit__map" alt="Inheritance graph"></center>
<map name="_fat16__inherit__map">
<area shape="rect" href="class_print.html" title="The Arduino core Print class." alt="" coords="8,5,56,32"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for Fat16:</div>
<div class="dynsection">
<p><center><img src="class_fat16__coll__graph.png" border="0" usemap="#_fat16__coll__map" alt="Collaboration graph"></center>
<map name="_fat16__coll__map">
<area shape="rect" href="class_print.html" title="The Arduino core Print class." alt="" coords="5,187,53,213"><area shape="rect" href="class_block_device.html" title="BlockDevice is the base class for devices supported by Fat16." alt="" coords="77,187,168,213"><area shape="rect" href="unioncache__t.html" title="Cache buffer data type." alt="" coords="192,187,259,213"><area shape="rect" href="structdirectory_entry.html" title="FAT short directory entry." alt="" coords="43,96,144,123"><area shape="rect" href="structfat16_boot_sector.html" title="Boot Sector of a FAT16 volume." alt="" coords="168,96,283,123"><area shape="rect" href="structbios_pram_block.html" title="Structure that defines a FAT16 volume." alt="" coords="171,5,280,32"><area shape="rect" href="structmaster_boot_record.html" title="Master Boot Record." alt="" coords="307,96,435,123"><area shape="rect" href="structpartition_table.html" title="MBR partition table entry." alt="" coords="321,5,420,32"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="class_fat16-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#ae3355bf1e93e732a64149663133161a">close</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#1afef833da3eb1dfbb6d8cfe24fa49a7">create</a> (char *fileName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#984d8986688ffaa13a628398ab0a98f2">fileSize</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#ecb8259458d2ba49b348de5e30fc8538">isOpen</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#2420ccbc71b857544016e3a45b47fbeb">open</a> (char *fileName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#5360d27d4a5b9f4a17ea0d63f3d17a47">open</a> (uint16_t entry)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#d0b43c1c92d6c3588cd62504066c8739">read</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#909c9a55b7303603784a77e29f282f08">read</a> (uint8_t *dst, uint16_t count)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#a17641d5de9976955e47d5bcd315915a">readPos</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#c0c08e00b317745d7a305bb7d326f9f2">seek</a> (uint32_t pos)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#a8919ff5c1b3e5470dbd38a6f7710d20">sync</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#d1cfc594294d7dafd2e77377252d82c9">write</a> (uint8_t b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#e74f19bbc3fb1fa61522848a6acfd0f7">write</a> (uint8_t *src, uint16_t count)</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#610191a704142918c2f14174706c3345">init</a> (<a class="el" href="class_block_device.html">BlockDevice</a> &amp;dev, uint8_t part)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structdirectory_entry.html">dir_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#d43edc0de66fd646b42d07bbe495d965">readDir</a> (uint16_t &amp;entry, uint8_t skip=(DIR_ATT_VOLUME_ID|DIR_ATT_DIRECTORY))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#ab4922c434b1642cac213705d814de4c">rootDirEntryCount</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#888dcce1a2bb0f4ab196cf28dc03b84d">dbgSetDev</a> (<a class="el" href="class_block_device.html">BlockDevice</a> &amp;dev)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint8_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#3bdbee900501a87234a03640b35e5b19">dbgCacheBlock</a> (uint32_t blockNumber)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="structdirectory_entry.html">dir_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#bcbb3e5deda647d45b1e863c8a9a3d84">dbgCacheDir</a> (uint16_t index)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">static uint16_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_fat16.html#3a9f189cbd66d7006a88810ef300f7d8">dbgCacheFat</a> (uint16_t cluster)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="class_fat16.html" title="Fat16 implements a minimal Arduino FAT16 Library.">Fat16</a> implements a minimal Arduino FAT16 Library. 
<p>
<a class="el" href="class_fat16.html" title="Fat16 implements a minimal Arduino FAT16 Library.">Fat16</a> does not support subdirectories or long file names. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="610191a704142918c2f14174706c3345"></a><!-- doxytag: member="Fat16::init" ref="610191a704142918c2f14174706c3345" args="(BlockDevice &amp;dev, uint8_t part)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Fat16::init           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_block_device.html">BlockDevice</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>part</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize a FAT16 volume.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>dev</em>&nbsp;</td><td>The <a class="el" href="class_block_device.html" title="BlockDevice is the base class for devices supported by Fat16.">BlockDevice</a> where the volume is located.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>part</em>&nbsp;</td><td>The partition to be used. Legal values for <em>part</em> are 1-4 to use the corresponding partition on a device formatted with a MBR, Master Boot Record, or zero if the device is formatted as a super floppy with the FAT boot sector in block zero.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value one, true, is returned for success and the value zero, false, is returned for failure. reasons for failure include not finding a valid FAT16 file system in the specified partition, a call to <a class="el" href="class_fat16.html#610191a704142918c2f14174706c3345">init()</a> after a volume has been successful initialized or an I/O error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d43edc0de66fd646b42d07bbe495d965"></a><!-- doxytag: member="Fat16::readDir" ref="d43edc0de66fd646b42d07bbe495d965" args="(uint16_t &amp;entry, uint8_t skip=(DIR_ATT_VOLUME_ID|DIR_ATT_DIRECTORY))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structdirectory_entry.html">dir_t</a>* Fat16::readDir           </td>
          <td>(</td>
          <td class="paramtype">uint16_t &amp;&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>skip</em> = <code>(DIR_ATT_VOLUME_ID&nbsp;|&nbsp;DIR_ATT_DIRECTORY)</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the next short, 8.3, directory entry into the cache buffer.<p>
Unused entries and entries for long names are skipped.<p>
The directory entry must not be modified since the cached block containing the entry may be written back to the storage device.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>entry</em>&nbsp;</td><td>The search starts at <em>entry</em> and <em>entry</em> is updated with the root directory index of the found directory entry. If the entry is a file, it may be opened by calling <a class="el" href="class_fat16.html#5360d27d4a5b9f4a17ea0d63f3d17a47">open(entry)</a>.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>skip</em>&nbsp;</td><td>Skip entries that have these attributes. If <em>skip</em> is not specified, the default is to skip the volume label and directories.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to a dir_t structure for the found directory entry, or NULL if an error occurs or the end of the root directory is reached. On success, <em>entry</em> is set to the index of the found directory entry. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ab4922c434b1642cac213705d814de4c"></a><!-- doxytag: member="Fat16::rootDirEntryCount" ref="ab4922c434b1642cac213705d814de4c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t Fat16::rootDirEntryCount           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The number of entries in the root directory. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ae3355bf1e93e732a64149663133161a"></a><!-- doxytag: member="Fat16::close" ref="ae3355bf1e93e732a64149663133161a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Fat16::close           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes a file and forces cached data and directory information to be written to the storage device.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value one, true, is returned for success and the value zero, false, is returned for failure. Reasons for failure include no file is open or an I/O error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="1afef833da3eb1dfbb6d8cfe24fa49a7"></a><!-- doxytag: member="Fat16::create" ref="1afef833da3eb1dfbb6d8cfe24fa49a7" args="(char *fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Fat16::create           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create and open a new file.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function only creates files in the root directory and only supports short DOS 8.3 names. See <a class="el" href="class_fat16.html#2420ccbc71b857544016e3a45b47fbeb">open()</a> for more information.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fileName</em>&nbsp;</td><td>a valid DOS 8.3 file name.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value one, true, is returned for success and the value zero, false, is returned for failure. Reasons for failure include <em>fileName</em> contains an invalid DOS 8.3 file name, the FAT volume has not been initialized, a file is already open, the file already exists, the root directory is full or an I/O error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="984d8986688ffaa13a628398ab0a98f2"></a><!-- doxytag: member="Fat16::fileSize" ref="984d8986688ffaa13a628398ab0a98f2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Fat16::fileSize           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The file's size in bytes. This is also the write position for the file. </dd></dl>

</div>
</div><p>
<a class="anchor" name="ecb8259458d2ba49b348de5e30fc8538"></a><!-- doxytag: member="Fat16::isOpen" ref="ecb8259458d2ba49b348de5e30fc8538" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Fat16::isOpen           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Checks the file's open/closed status for this instance of <a class="el" href="class_fat16.html" title="Fat16 implements a minimal Arduino FAT16 Library.">Fat16</a>. <dl class="return" compact><dt><b>Returns:</b></dt><dd>The value true if a file is open otherwise false; </dd></dl>

</div>
</div><p>
<a class="anchor" name="2420ccbc71b857544016e3a45b47fbeb"></a><!-- doxytag: member="Fat16::open" ref="2420ccbc71b857544016e3a45b47fbeb" args="(char *fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Fat16::open           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a file for read and write by file name. Two file positions are maintained. The write position is at the end of the file. Data is appended to the file. The read position starts at the beginning of the file.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The file must be in the root directory and must have a DOS 8.3 name.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>fileName</em>&nbsp;</td><td>A valid 8.3 DOS name for a file in the root directory.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value one, true, is returned for success and the value zero, false, is returned for failure. Reasons for failure include the FAT volume has not been initialized, a file is already open, <em>fileName</em> is invalid, the file does not exist or it is a directory. </dd></dl>

</div>
</div><p>
<a class="anchor" name="5360d27d4a5b9f4a17ea0d63f3d17a47"></a><!-- doxytag: member="Fat16::open" ref="5360d27d4a5b9f4a17ea0d63f3d17a47" args="(uint16_t entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Fat16::open           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Open a file for read and write by file index. Two file positions are maintained. The write position is at the end of the file. Data is appended to the file. The read position starts at the beginning of the file.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>index</em>&nbsp;</td><td>The root directory index of the file to be opened. See <a class="el" href="class_fat16.html#d43edc0de66fd646b42d07bbe495d965">readDir()</a>.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value one, true, is returned for success and the value zero, false, is returned for failure. Reasons for failure include the FAT volume has not been initialized, a file is already open, <em>index</em> is invalid or is not the index of a file. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d0b43c1c92d6c3588cd62504066c8739"></a><!-- doxytag: member="Fat16::read" ref="d0b43c1c92d6c3588cd62504066c8739" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t Fat16::read           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read the next byte from a file.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>For success read returns the next byte in the file as an int. If an error occurs or end of file is reached -1 is returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="909c9a55b7303603784a77e29f282f08"></a><!-- doxytag: member="Fat16::read" ref="909c9a55b7303603784a77e29f282f08" args="(uint8_t *dst, uint16_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t Fat16::read           </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read data from a file at starting at the current read position.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>dst</em>&nbsp;</td><td>Pointer to the location that will receive the data.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td>Maximum number of bytes to read.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>For success read returns the number of bytes read. A value less than <em>count</em>, including zero, may be returned if end of file is reached. If an error occurs, read returns -1. Possible errors include read called before a file has been opened, corrupt file system or I/O error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a17641d5de9976955e47d5bcd315915a"></a><!-- doxytag: member="Fat16::readPos" ref="a17641d5de9976955e47d5bcd315915a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Fat16::readPos           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The read position in bytes. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c0c08e00b317745d7a305bb7d326f9f2"></a><!-- doxytag: member="Fat16::seek" ref="c0c08e00b317745d7a305bb7d326f9f2" args="(uint32_t pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Fat16::seek           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>pos</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the file's read position.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pos</em>&nbsp;</td><td>The new read position in bytes from the beginning of the file.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value one, true, is returned for success and the value zero, false, is returned for failure. </dd></dl>

</div>
</div><p>
<a class="anchor" name="a8919ff5c1b3e5470dbd38a6f7710d20"></a><!-- doxytag: member="Fat16::sync" ref="a8919ff5c1b3e5470dbd38a6f7710d20" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Fat16::sync           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The <a class="el" href="class_fat16.html#a8919ff5c1b3e5470dbd38a6f7710d20">sync()</a> call causes all modified data and directory fields to be written to the storage device.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The value one, true, is returned for success and the value zero, false, is returned for failure. Reasons for failure include a call to <a class="el" href="class_fat16.html#a8919ff5c1b3e5470dbd38a6f7710d20">sync()</a> before a file has been opened or an I/O error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="d1cfc594294d7dafd2e77377252d82c9"></a><!-- doxytag: member="Fat16::write" ref="d1cfc594294d7dafd2e77377252d82c9" args="(uint8_t b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Fat16::write           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>b</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Append one byte to a file. This function is called by Arduino's <a class="el" href="class_print.html" title="The Arduino core Print class.">Print</a> class.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>The byte is moved to the cache but may not be written to the storage device until <a class="el" href="class_fat16.html#a8919ff5c1b3e5470dbd38a6f7710d20">sync()</a> is called.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>b</em>&nbsp;</td><td>The byte to be written. </td></tr>
  </table>
</dl>

<p>Reimplemented from <a class="el" href="class_print.html#0a96ee1130d5b74174d3a26e56d1d1f0">Print</a>.</p>

</div>
</div><p>
<a class="anchor" name="e74f19bbc3fb1fa61522848a6acfd0f7"></a><!-- doxytag: member="Fat16::write" ref="e74f19bbc3fb1fa61522848a6acfd0f7" args="(uint8_t *src, uint16_t count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t Fat16::write           </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>count</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write data at the end of an open file.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Data is moved to the cache but may not be written to the storage device until <a class="el" href="class_fat16.html#a8919ff5c1b3e5470dbd38a6f7710d20">sync()</a> is called.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>src</em>&nbsp;</td><td>Pointer to the location of the data to be written.</td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>count</em>&nbsp;</td><td>Number of bytes to write.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>For success <a class="el" href="class_fat16.html#d1cfc594294d7dafd2e77377252d82c9">write()</a> returns the number of bytes written, always <em>count</em>. If an error occurs, <a class="el" href="class_fat16.html#d1cfc594294d7dafd2e77377252d82c9">write()</a> returns -1. Possible errors include <a class="el" href="class_fat16.html#d1cfc594294d7dafd2e77377252d82c9">write()</a> is called before a file has been opened, write is called for a read-only file, device is full, a corrupt file system or an I/O error. </dd></dl>

</div>
</div><p>
<a class="anchor" name="888dcce1a2bb0f4ab196cf28dc03b84d"></a><!-- doxytag: member="Fat16::dbgSetDev" ref="888dcce1a2bb0f4ab196cf28dc03b84d" args="(BlockDevice &amp;dev)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void Fat16::dbgSetDev           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_block_device.html">BlockDevice</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>dev</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
For debug only. Do not use in applications. 
</div>
</div><p>
<a class="anchor" name="3bdbee900501a87234a03640b35e5b19"></a><!-- doxytag: member="Fat16::dbgCacheBlock" ref="3bdbee900501a87234a03640b35e5b19" args="(uint32_t blockNumber)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t* Fat16::dbgCacheBlock           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>blockNumber</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
For debug only. Do not use in applications. 
</div>
</div><p>
<a class="anchor" name="bcbb3e5deda647d45b1e863c8a9a3d84"></a><!-- doxytag: member="Fat16::dbgCacheDir" ref="bcbb3e5deda647d45b1e863c8a9a3d84" args="(uint16_t index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structdirectory_entry.html">dir_t</a>* Fat16::dbgCacheDir           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>index</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
For debug only. Do not use in applications. 
</div>
</div><p>
<a class="anchor" name="3a9f189cbd66d7006a88810ef300f7d8"></a><!-- doxytag: member="Fat16::dbgCacheFat" ref="3a9f189cbd66d7006a88810ef300f7d8" args="(uint16_t cluster)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t* Fat16::dbgCacheFat           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>cluster</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
For debug only. Do not use in applications. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Fat16/Fat16.h<li>Fat16/Fat16.cpp</ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Thu Oct 9 08:22:19 2008 for Fat16 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
